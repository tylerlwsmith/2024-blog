{{- define "main" }}
  {{- $tagIdMap := index .Data "tagIdMap" }}
  {{- $posts := index .Data "posts" }}
  {{- $user := index .Data "user" }}


  <div class="spacer"></div>

  <div class="homepage-wrapper">
    <div style="padding: 0 20px; flex-grow: 1; flex-shrink: 1">
      <h1>Posts</h1>

      {{- template "_post-list.tmpl" (args $posts $tagIdMap $user) }}
    </div>

    <aside class="tag-sidebar">
      <h2>Tags</h2>
      <nav>
        <ul class="tag-sidebar-list">
          {{- range (index .Data "tags") }}
            <li class="tag-sidebar-list-item">
              <a href="/tags/{{ .Slug }}" class="tag-sidebar-list-item__link">
                {{ .Name }}
                ({{ .Count }})
              </a>
            </li>
          {{- end }}
        </ul>
      </nav>
    </aside>
  </div>

  <div class="spacer"></div>
{{- end }}
