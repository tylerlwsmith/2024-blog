{{ $posts := index . 0 }}
{{ $tagIdMap := index . 1 }}


<ul class="post-list">
  {{- range $posts }}
    <li class="post-list-item">
      <div class="post-list-item__link-wrapper">
        <a href="/posts/{{ .Slug }}" class="post-list-item__link">
          {{ .Title.Rendered }}
        </a>
      </div>
      <time
        class="post-list-item__date"
        datetime="{{ .Date.Format "2006-01-02" }}"
      >
        {{ .Date.Format "January 2, 2006" }}
      </time>
      {{- if len .Tags }}
        <dl class="post-list-item__tag-dl">
          <dt class="sr-only">Tags</dt>
          {{- range .Tags }}
            {{ with (index $tagIdMap .) }}
              <dd class="post-list-item__tag-dd">
                <span class="post-list-item__tag-wrapper">
                  <a href="/tags/{{ .Slug }}" class="tag">
                    {{ .Name }}
                  </a>
                </span>
              </dd>
            {{- end }}
          {{- end }}
        </dl>
      {{- end }}
    </li>
  {{- end }}
</ul>
